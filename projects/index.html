<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Projects | Daniel Playfair Cal’s Blog</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Projects" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A collection of open source projects that I’ve either created, maintained, or contributed to." />
<meta property="og:description" content="A collection of open source projects that I’ve either created, maintained, or contributed to." />
<link rel="canonical" href="https://www.danielplayfaircal.com/projects/" />
<meta property="og:url" content="https://www.danielplayfaircal.com/projects/" />
<meta property="og:site_name" content="Daniel Playfair Cal’s Blog" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Projects" />
<script type="application/ld+json">
{"headline":"Projects","url":"https://www.danielplayfaircal.com/projects/","description":"A collection of open source projects that I’ve either created, maintained, or contributed to.","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://www.danielplayfaircal.com/feed.xml" title="Daniel Playfair Cal's Blog" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-156004979-1', 'auto');
  ga('send', 'pageview');
}
</script>
  


<style>
    .post h2 {
        margin-top: 36px;
    }
    .post h3 {
        margin-top: 18px;
    }

    img {
        height: auto;
    }

    body {
        overflow-y: scroll;
    }
</style>
</head><body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Daniel Playfair Cal&#39;s Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/projects/">Projects</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Projects</h1>
  </header>

  <div class="post-content">
    <p class="post-subtitle">This is a collection of open source projects I&#39;ve either created, maintained, or contributed to.</p>
    <h2>Contents</h2>
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#maintainership">Maintainership</a>
<ul>
<li class="toc-entry toc-h3"><a href="#dconf">DConf</a></li>
<li class="toc-entry toc-h3"><a href="#rudy">Rudy</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#authorship">Authorship</a>
<ul>
<li class="toc-entry toc-h3"><a href="#webpack-error-on-warnings-plugin">webpack-error-on-warnings-plugin</a></li>
<li class="toc-entry toc-h3"><a href="#mongo-index-analyzer">Mongo index analyzer</a></li>
<li class="toc-entry toc-h3"><a href="#video-annotator">Video annotator</a></li>
<li class="toc-entry toc-h3"><a href="#panko">Panko</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#contribution">Contribution</a>
<ul>
<li class="toc-entry toc-h3"><a href="#webpack">webpack</a></li>
<li class="toc-entry toc-h3"><a href="#haul">Haul</a></li>
<li class="toc-entry toc-h3"><a href="#ffmpeg">FFmpeg</a></li>
<li class="toc-entry toc-h3"><a href="#linux-kernel">Linux kernel</a></li>
<li class="toc-entry toc-h3"><a href="#scroll-behavior">scroll-behavior</a></li>
<li class="toc-entry toc-h3"><a href="#circular-dependency-plugin">circular-dependency-plugin</a></li>
<li class="toc-entry toc-h3"><a href="#loadable-components">loadable-components</a></li>
<li class="toc-entry toc-h3"><a href="#django-prometheus">Django-prometheus</a></li>
<li class="toc-entry toc-h3"><a href="#pymongo">Pymongo</a></li>
<li class="toc-entry toc-h3"><a href="#socketcluster">Socketcluster</a></li>
<li class="toc-entry toc-h3"><a href="#react-native-maps">react-native-maps</a></li>
<li class="toc-entry toc-h3"><a href="#reductive">Reductive</a></li>
<li class="toc-entry toc-h3"><a href="#gnome-shell-extension-freon">gnome-shell-extension-freon</a></li>
<li class="toc-entry toc-h3"><a href="#redux-thunk">redux-thunk</a></li>
<li class="toc-entry toc-h3"><a href="#react-static">react-static</a></li>
</ul>
</li>
</ul><h2 id="maintainership">
<a class="anchor" href="#maintainership" aria-hidden="true"><span class="octicon octicon-link"></span></a>Maintainership</h2>

<p>These are projects which I maintain that have a significant community following, even though I didn’t originally author them.</p>

<h3 id="dconf">
<a class="anchor" href="#dconf" aria-hidden="true"><span class="octicon octicon-link"></span></a>DConf</h3>
<p><a href="https://gitlab.gnome.org/GNOME/dconf">DConf</a> is a user settings database which is used as the backend for the GSettings API on linux systems. It is the primary way that GNOME apps store user settings on linux. I’ve maintained it since August 2018. This has involved:</p>
<ul>
  <li>reviewing and merging changes submitted by others</li>
  <li>making regular releases</li>
  <li>making improvements of my own, which have included various refactors and bugfixes. See my post <a href="/blogging/gnome/dconf/2019/12/30/running-gnome-shell-in-valgrind.html">Running GNOME shell in Valgrind</a> for a detailed account of some of them.</li>
</ul>

<h3 id="rudy">
<a class="anchor" href="#rudy" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rudy</h3>
<p><a href="https://github.com/respond-framework/rudy">Rudy</a> is a library that acts as the controller of a React/Redux app. It handles routing idiomatically by synchronising URLs with Redux actions, and provides an asynchronous middleware API for requests/routes, which works both during server side rendering and client side single page app transitions. I adopted an unfinished version of it which was written by James Gilmore, and have made various improvements since.</p>
<ul>
  <li>Improvements to development processes including introducing code review, CI testing, isolated unit tests, and documentation of changes.</li>
  <li>Engaging with the community and encouraging contributions from others by adding documentation, engaging with issues, and reviewing and merging pull requests.</li>
  <li>Implementation of middlewares to save and restore the browser scroll position when using the browser back/forward navigation.</li>
  <li>Improvements to the developer experience, including the introduction of Typescript, linting, autoformatting, convenient scripts to create test releases, and automated changelog creation.</li>
  <li>Refactoring and bugfixes related to the mirroring of the browser history stack, which addressed many outstanding bugs.</li>
  <li>Conversion of the package into a monorepo, and factoring out of non-core functionality like setting the browser page title into separate packages that integrate using the middleware API.</li>
  <li>Refactoring of the URL serialisation module to make the API more consistent and eliminate bugs related to string encoding.</li>
</ul>

<h2 id="authorship">
<a class="anchor" href="#authorship" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authorship</h2>

<p>These are projects which I created myself, either alone or with others.</p>

<h3 id="webpack-error-on-warnings-plugin">
<a class="anchor" href="#webpack-error-on-warnings-plugin" aria-hidden="true"><span class="octicon octicon-link"></span></a>webpack-error-on-warnings-plugin</h3>

<p><a href="https://github.com/hedgepigdaniel/webpack-error-on-warnings-plugin">webpack-error-on-warnings-plugin</a> is a simple webpack plugin to fail builds in CI if there are warnings. Very similar to <a href="https://www.npmjs.com/package/warnings-to-errors-webpack-plugin">webpack-errors-to-warnings-plugin</a>, but written in Typescript.</p>

<h3 id="mongo-index-analyzer">
<a class="anchor" href="#mongo-index-analyzer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mongo index analyzer</h3>
<p><a href="https://github.com/hedgepigdaniel/mongo-index-analyser">Mongo index analyzer</a> is a script which runs in the MongoDB shell and queries the system profile collection and find the most inneficient operations. An interesting experiement, which helped me to learn about how mongo serves queries and what query patterns are problematic.</p>

<h3 id="video-annotator">
<a class="anchor" href="#video-annotator" aria-hidden="true"><span class="octicon octicon-link"></span></a>Video annotator</h3>
<p><a href="https://github.com/hedgepigdaniel/video-annotator">video-annotator</a> is a very experimental tool for video processing. I wrote it to process video of Dodgeball matches, which I play for fun. There are two versions:</p>
<ul>
  <li>A Node.js CLI script which wraps FFmpeg and can do lens distortion correction (e.g. for GoPro fisheye lenses), video stabilisation, and all while using as much hardware acceleration as possible</li>
  <li>A C++ version (very much a work in progress) which uses libavcodec, OpenCL, and OpenCV to perform a similar task, but hopefully more flexibly than with FFmpeg, with better motion stabilization, and faster due to less memory copying and better use of hardware acceleration.</li>
</ul>

<h3 id="panko">
<a class="anchor" href="#panko" aria-hidden="true"><span class="octicon octicon-link"></span></a>Panko</h3>
<p><a href="https://github.com/hedgepigdaniel/panko">Panko</a> is an unfinished blockchain app built on Ethereum with the Truffle framework. It allows the user to upload a file and have its hash posted on the Etherum blockchain, thereby proving that that user had access to the file at a certain time.</p>

<h2 id="contribution">
<a class="anchor" href="#contribution" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contribution</h2>

<h3 id="webpack">
<a class="anchor" href="#webpack" aria-hidden="true"><span class="octicon octicon-link"></span></a>webpack</h3>
<p>webpack is a bundler for Javascript and other client side assets. My contributions were:</p>
<ul>
  <li>a <a href="https://github.com/webpack/webpack/pull/7039">fix</a> for peer dependency warnings</li>
  <li>a <a href="https://github.com/webpack/webpack/pull/9719">performance improvement</a> which significantly increased the speed of watching recompilations in large projects.</li>
</ul>

<h3 id="haul">
<a class="anchor" href="#haul" aria-hidden="true"><span class="octicon octicon-link"></span></a>Haul</h3>
<p>Haul is a library which wraps webpack such that it can be used to compile react-native apps. I’ve made various contributions:</p>
<ul>
  <li>A simple <a href="https://github.com/callstack/haul/pull/406">fix</a> to address dependency warnings and issues</li>
  <li>Adding <a href="https://github.com/callstack/haul/pull/477">support for react-native 0.57</a>, which involved refactoring internal Babel plugins following breaking changes in Babel 7, accounting for changes in Haste module resolution (and the resulting assumptions in the react-native Javascript library), changes in the react-hot-loader API, and more.</li>
  <li>A <a href="https://github.com/callstack/haul/pull/462">fix</a> for a bug which prevented debugging from working in certain configurations.</li>
  <li>A <a href="https://github.com/callstack/haul/pull/704">fix</a> for a bug which broke production builds with sourcemaps if there was a dynamic ES6 import in the source code.</li>
</ul>

<h3 id="ffmpeg">
<a class="anchor" href="#ffmpeg" aria-hidden="true"><span class="octicon octicon-link"></span></a>FFmpeg</h3>
<p>The FFmpeg project includes libraries for handling audio visual media. My contributions were:</p>
<ul>
  <li>The <a href="https://lists.ffmpeg.org/pipermail/ffmpeg-cvslog/2019-March/117191.html">addition of a scale parameter</a> for the lensfun filter.</li>
  <li>A <a href="https://patchwork.ffmpeg.org/project/ffmpeg/patch/20200316012046.92191-1-daniel.playfair.cal@gmail.com/">fix</a> for a missing header file in releases.</li>
</ul>

<h3 id="linux-kernel">
<a class="anchor" href="#linux-kernel" aria-hidden="true"><span class="octicon octicon-link"></span></a>Linux kernel</h3>
<p>The linux kernel is the main open source operating system kernel. I sent a <a href="https://github.com/torvalds/linux/commit/538f67407e2c0e5ed2a46e7d7ffa52f2e30c7ef8">fix</a> for spurious interrupts coming from the touchpad on a particular laptop after resuming from suspend, which caused degraded battery life.</p>

<h3 id="scroll-behavior">
<a class="anchor" href="#scroll-behavior" aria-hidden="true"><span class="octicon octicon-link"></span></a>scroll-behavior</h3>
<p>scroll-behaviour is a library to save and restore scroll positions in single page apps, while accounting for various browser API differences. It was originally used in react-router, and is now used in Rudy. I’ve made various contributions:</p>
<ul>
  <li>the <a href="https://github.com/taion/scroll-behavior/pull/287">addition</a> of Typescript types.</li>
  <li>
<a href="https://github.com/taion/scroll-behavior/pull/306">A new API</a> to pause the saving of the scroll position in order to ensure accuracy of the saved position when transitions are not instant (e.g. if the UI does not fully render until an API call completes).</li>
  <li>A <a href="https://github.com/taion/scroll-behavior/pull/293">fix</a> for a bug where the scroll position was incorrectly assumed to be 0 before any scrolling was performed.</li>
  <li>A <a href="https://github.com/taion/scroll-behavior/pull/344">refactor</a> to remove the usage of the problematic <code class="language-plaintext highlighter-rouge">before-unload</code> browser API, which prevents page caching in browsers.</li>
</ul>

<h3 id="circular-dependency-plugin">
<a class="anchor" href="#circular-dependency-plugin" aria-hidden="true"><span class="octicon octicon-link"></span></a>circular-dependency-plugin</h3>
<p>circular-dependency-plugin is a webpack plugin to generate a warning when there is a circular dependency between modules. My contributions were:</p>
<ul>
  <li>A <a href="https://github.com/aackerman/circular-dependency-plugin/pull/37">new option</a> to not generate warnings for circular dependencies when some of the imports were asynchronous. Asynchronous import cycles don’t have the symptom that correct imports can be undefined at runtime.</li>
  <li>A <a href="https://github.com/aackerman/circular-dependency-plugin/pull/49">performance optimization</a> to replace the existing algorithm to find import cycles with Tarjan’s strongly connected components algorithm.</li>
</ul>

<h3 id="loadable-components">
<a class="anchor" href="#loadable-components" aria-hidden="true"><span class="octicon octicon-link"></span></a>loadable-components</h3>
<p>loadable-components is a set of libraries for code splitting and server side rendering of React components. My contributions were:</p>
<ul>
  <li>The <a href="https://github.com/gregberge/loadable-components/pull/486">addition of a script</a> to make test releases as github tags (something which is not easy in a monorepo).</li>
  <li>The addition of a <a href="https://github.com/gregberge/loadable-components/pull/487">new option</a> to avoid calling the expensive <code class="language-plaintext highlighter-rouge">stats.toJson()</code> function, which significantly increases watching recompile speed in large projects.</li>
</ul>

<h3 id="django-prometheus">
<a class="anchor" href="#django-prometheus" aria-hidden="true"><span class="octicon octicon-link"></span></a>Django-prometheus</h3>
<p>Django-prometheus is a library to integrate the Django web framework with prometheus monitoring system. I sent a <a href="https://github.com/korfuri/django-prometheus/pull/51">fix</a> for a bug which caused file upload requests to fail following breaking changes in Django.</p>

<h3 id="pymongo">
<a class="anchor" href="#pymongo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pymongo</h3>
<p>Pymongo is the official MongoDB client library for Python. I sent a <a href="https://github.com/mongodb/mongo-python-driver/pull/300">fix</a> for a bug which prevented values read from the database from being deserialised with the correct timezone awareness.</p>

<h3 id="socketcluster">
<a class="anchor" href="#socketcluster" aria-hidden="true"><span class="octicon octicon-link"></span></a>Socketcluster</h3>
<p>Socketcluster is a protocol and libraries which provide a publish/subscribe API over HTTP websockets. I sent a <a href="https://github.com/SocketCluster/socketcluster-client/pull/23">fix</a> to the browser Javascript client for an incompatibility between two features - the ability to automatically reconnect to subscribed channels following a connection dropout, and the ability to manually choose when subscriptions are persisted to the server following socket connection.</p>

<h3 id="react-native-maps">
<a class="anchor" href="#react-native-maps" aria-hidden="true"><span class="octicon octicon-link"></span></a>react-native-maps</h3>
<p>react-native-maps is a react-native component for displaying an interactive map. I sent a <a href="https://github.com/react-native-community/react-native-maps/pull/1982">refactor</a> to make use of static ES6 exports rather than commonJS exports. This has many advantages, among them compile errors when imported names are misspelled, easier type checking, and better dead code elimination.</p>

<h3 id="reductive">
<a class="anchor" href="#reductive" aria-hidden="true"><span class="octicon octicon-link"></span></a>Reductive</h3>
<p>Reductive ReasonML library for app state management, which emulates Redux. My contribution was to <a href="https://github.com/reasonml-community/reductive/issues/24">explain a misunderstanding</a> which impacted the names in its API. This led to the API being improved by others later.</p>

<h3 id="gnome-shell-extension-freon">
<a class="anchor" href="#gnome-shell-extension-freon" aria-hidden="true"><span class="octicon octicon-link"></span></a>gnome-shell-extension-freon</h3>
<p>gnome-shell-extension-freon is an extension for the GNOME shell which adds a status bar icon to display system state such as temperatures and fan speeds. My contribution was a <a href="https://github.com/UshakovVasilii/gnome-shell-extension-freon/pull/72">fix</a> for a bug where the API of a destroyed object was used, resulting in a shell crash.</p>

<h3 id="redux-thunk">
<a class="anchor" href="#redux-thunk" aria-hidden="true"><span class="octicon octicon-link"></span></a>redux-thunk</h3>
<p>redux-thunk is a library for creating thunks which can be dispatched as redux actions. I sent a <a href="https://github.com/reduxjs/redux-thunk/pull/251">fix</a> for a missing peer dependency.</p>

<h3 id="react-static">
<a class="anchor" href="#react-static" aria-hidden="true"><span class="octicon octicon-link"></span></a>react-static</h3>
<p>react-static is a static site generator for React. I sent a <a href="https://github.com/react-static/react-static/pull/688">refactor</a> to avoid transpiling all code in a project to commonJS. This involved changes to the generated webpack and Babel configurations, a new option to optionally disable the behaviour, and a change to generate compile errors in the case that a project imported a name from a file that was not exported (e.g. due to a misspelling).</p>

  </div>

</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Daniel Playfair Cal&#39;s Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Daniel Playfair Cal&#39;s Blog</li><li><a class="u-email" href="mailto:daniel.playfair.cal@gmail.com">daniel.playfair.cal@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/hedgepigdaniel"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">hedgepigdaniel</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Rage, rage against the dying of the light</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
